import{a as I,b as h,c as E,d as j,e as F,f as D,g as T,h as k,i as G,j as P,k as B}from"./chunk-NVS7U25A.js";import{$ as C,F as u,G as c,J as b,L as f,N as s,O as n,P as a,R as v,S as w,T as m,V as y,aa as S,ea as L,fa as M,ha as g,r as l,v as d,w as p,za as N}from"./chunk-3A3WXGXF.js";import"./chunk-7FQVP44B.js";function z(t,e){if(t&1&&(s(0,"div",12),m(1),n()),t&2){let O=w();u(),y(" ",O.errorMessage," ")}}var R=(()=>{let e=class e{constructor(r,o,i){this.formBuilder=r,this.router=o,this.authService=i,this.errorMessage="",this.formLogin=this.formBuilder.group({username:["",h.required],password:["",h.required]})}login(){if(this.formLogin.valid){let r=this.formLogin.value.username,o=this.formLogin.value.password;this.authService.signIn(r,o).subscribe({next:i=>{i?(console.log("Login successful"),this.router.navigate(["/mantainer"])):(console.log("Login failed"),this.errorMessage="Usuario o contrase\xF1a incorrectos")},error:i=>{this.authService.handleLoginError(i),this.errorMessage="Ocurri\xF3 un error durante el inicio de sesi\xF3n. Por favor, int\xE9ntalo de nuevo m\xE1s tarde."}})}}};e.\u0275fac=function(o){return new(o||e)(c(k),c(M),c(N))},e.\u0275cmp=d({type:e,selectors:[["auth-login"]],decls:16,vars:2,consts:[[1,"flex","flex-col","items-center","justify-center","h-screen","bg-black"],[1,"text-white","text-2xl","mb-6"],[1,"bg-blue-400","shadow-md","rounded","px-8","pt-6","pb-8","mb-4",3,"ngSubmit","formGroup"],[1,"mb-4"],["for","username",1,"block","text-white","text-sm","font-bold","mb-2"],["formControlName","username","id","user","type","text",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"mb-6"],["for","password",1,"block","text-white","text-sm","font-bold","mb-2"],["formControlName","password","id","password","type","password",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mb-3","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","items-center","justify-between"],["type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline"],["class","text-red-500 text-sm mt-2",4,"ngIf"],[1,"text-red-500","text-sm","mt-2"]],template:function(o,i){o&1&&(s(0,"div",0)(1,"header",1),m(2,"login back office portfolio max poblete"),n(),s(3,"form",2),v("ngSubmit",function(){return i.login()}),s(4,"div",3)(5,"label",4),m(6," Email. "),n(),a(7,"input",5),n(),s(8,"div",6)(9,"label",7),m(10," Password. "),n(),a(11,"input",8),n(),s(12,"div",9)(13,"button",10),m(14," Log In "),n()(),b(15,z,2,1,"div",11),n()()),o&2&&(u(3),f("formGroup",i.formLogin),u(12),f("ngIf",i.errorMessage))},dependencies:[C,F,I,E,j,D,T]});let t=e;return t})();var V=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=d({type:e,selectors:[["app-layout-page"]],decls:1,vars:0,template:function(o,i){o&1&&a(0,"router-outlet")},dependencies:[L]});let t=e;return t})();var H=[{path:"",component:V,children:[{path:"login",component:R},{path:"**",redirectTo:"login"}]}],q=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=p({type:e}),e.\u0275inj=l({imports:[g.forChild(H),g]});let t=e;return t})();var le=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=p({type:e}),e.\u0275inj=l({imports:[S,q,G,P,B]});let t=e;return t})();export{le as AuthModule};
